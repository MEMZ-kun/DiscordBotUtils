ステップ1: 設定の読み込み (Config)
やること: 最初に ConfigManager を起動します。
目的: .env から ボットトークン を、config.ini からログ保存先やDBの種類などの 全設定 を読み込みます。
重要: これが失敗すると、ボットは起動を中止します。

ステップ2:ログ機能の起動 (Logger)
やること: ステップ1で読み込んだ設定に基づき、setup_logging を実行します。
目的: 「いつ、何が起きたか」をコンソールとファイルに記録する準備をします。これ以降、print の代わりに logger.info が使われます。

ステップ3:データベースの準備 (DB)
やること: DatabaseManager を初期化します。
目的: config.ini で指定されたデータベース（SQLiteなど）に接続するための「設計図」を準備します。（この時点ではまだ接続しません）

ステップ4:ボット本体の作成 (Bot)
やること: discord.py の commands.Bot を作成します。
目的: これがボットの「本体」です。この時、「Intents」という権限設定（例: メッセージ内容を読み取る権限）も指定します。

ステップ5: ユーティリティの登録 (Attaching)
やること: 作成したユーティリティを、ボット本体に「アタッチ（登録）」します。
bot.logger = logger
bot.db_manager = db_manager
bot.permission_manager = ...
目的: これにより、後で読み込む独自機能 (Cogs) から bot.logger のように、ユーティリティを簡単に呼び出せるようになります。

ステップ6: 拡張機能（Cogs）の読み込み
やること: cogs フォルダの中にある .py ファイル（例: example_cog.py）をすべて探し、ボットに「プラグイン」として読み込みます。
目的: ボットの具体的なコマンドや機能は、すべてこの Cogs に書いていきます。main.py を汚さずに機能を追加できる、非常に重要な仕組みです。

ステップ7: 起動シーケンスの定義 (on_ready)
やること: on_ready という「ボットがDiscordにログイン成功した後に実行する処理」を定義します。
目的: 以下の重要な起動処理を行います。
データベースのテーブルを（なければ）作成する。
TaskScheduler を起動し、定期実行タスクを開始する。
スラッシュコマンドをDiscordに同期（反映）させる。

ステップ8: エラー処理の接続 (ErrorHandler)
やること: on_command_error (エラー監視) を設定します。
目的: ボットのどこかでエラーが発生したら、すべて ErrorHandler ユーティリティに処理を「丸投げ」するように設定します。

ステップ9: ボットの起動 (Start)
やること: bot.start(BOT_TOKEN) を呼び出します。
目的: すべての準備が整ったので、ステップ1で取得したトークンを使って、ボットをDiscordに接続・起動させます。